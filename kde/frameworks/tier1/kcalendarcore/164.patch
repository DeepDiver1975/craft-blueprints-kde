From 4ec6fe80680d2bfb9b9197fd3f5d4517f613cd9d Mon Sep 17 00:00:00 2001
From: =?UTF-8?q?Julius=20K=C3=BCnzel?= <jk.kdedev@smartlab.uber.space>
Date: Wed, 3 Jan 2024 09:57:29 +0000
Subject: [PATCH 1/2] Fix non-void return

---
 autotests/incidencestest.cpp | 3 +++
 autotests/loadcalendar.cpp   | 9 ++++++---
 autotests/testfb.cpp         | 2 ++
 3 files changed, 11 insertions(+), 3 deletions(-)

diff --git a/autotests/incidencestest.cpp b/autotests/incidencestest.cpp
index 0bf200d7f..a608ad131 100644
--- a/autotests/incidencestest.cpp
+++ b/autotests/incidencestest.cpp
@@ -14,6 +14,8 @@
 #include <QCoreApplication>
 #include <QDebug>
 
+#include <stdlib.h>
+
 using namespace KCalendarCore;
 
 int main(int argc, char **argv)
@@ -75,4 +77,5 @@ int main(int argc, char **argv)
     } else {
         qDebug() << "Clone Todo SUCCEEDED.";
     }
+    return EXIT_SUCCESS;
 }
diff --git a/autotests/loadcalendar.cpp b/autotests/loadcalendar.cpp
index 7016e4542..23f4d844c 100644
--- a/autotests/loadcalendar.cpp
+++ b/autotests/loadcalendar.cpp
@@ -14,6 +14,8 @@
 #include <QDebug>
 #include <QTimeZone>
 
+#include <stdlib.h>
+
 using namespace KCalendarCore;
 
 int main(int argc, char **argv)
@@ -30,7 +32,7 @@ int main(int argc, char **argv)
     FileStorage store(cal, QStringLiteral("cal"));
     if (!store.load()) {
         qWarning() << "Error storing into memory calendar";
-        return 1;
+        return EXIT_FAILURE;
     }
 
     Todo::List todoList;
@@ -41,7 +43,7 @@ int main(int argc, char **argv)
 
     if (todoList.isEmpty()) {
         qWarning() << "Error loading calendar";
-        return 1;
+        return EXIT_FAILURE;
     }
 
     qDebug() << (*todoList.begin())->uid();
@@ -49,8 +51,9 @@ int main(int argc, char **argv)
     qDebug() << result;
     if (result != QLatin1String("a,b")) {
         qDebug() << "The string a,b was expected, but given was" << result;
-        return 1;
+        return EXIT_FAILURE;
     } else {
         qDebug() << "Test passed";
     }
+    return EXIT_SUCCESS;
 }
diff --git a/autotests/testfb.cpp b/autotests/testfb.cpp
index e2b02d5de..55925baf9 100644
--- a/autotests/testfb.cpp
+++ b/autotests/testfb.cpp
@@ -13,6 +13,7 @@
 #include <QDebug>
 
 #include <iostream>
+#include <stdlib.h>
 
 using namespace KCalendarCore;
 
@@ -50,4 +51,5 @@ int main(int, char **)
     for (auto it = props.cbegin(); it != props.cend(); ++it) {
         qDebug() << it.key() << ": " << it.value();
     }
+    return EXIT_SUCCESS;
 }
-- 
GitLab


From 7c040aef6bb54d713749f519009f7c134495fc90 Mon Sep 17 00:00:00 2001
From: =?UTF-8?q?Julius=20K=C3=BCnzel?= <jk.kdedev@smartlab.uber.space>
Date: Wed, 3 Jan 2024 10:50:14 +0000
Subject: [PATCH 2/2] Fix one more non-void return

---
 autotests/testtostring.cpp | 2 ++
 1 file changed, 2 insertions(+)

diff --git a/autotests/testtostring.cpp b/autotests/testtostring.cpp
index ec012eb04..716d97d30 100644
--- a/autotests/testtostring.cpp
+++ b/autotests/testtostring.cpp
@@ -12,6 +12,7 @@
 #include <QDebug>
 
 #include <iostream>
+#include <stdlib.h>
 
 using namespace KCalendarCore;
 
@@ -31,4 +32,5 @@ int main(int, char **)
     } else {
         qDebug() << "Could not read incidence";
     }
+    return EXIT_SUCCESS;
 }
-- 
GitLab

